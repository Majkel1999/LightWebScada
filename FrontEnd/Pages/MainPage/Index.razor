@page "/"
@using System.Security.Claims
@using Microsoft.AspNetCore.Identity

@using Microsoft.AspNetCore.Components.Authorization

@inject AuthenticationStateProvider AuthenticationStateProvider
@inject SignInManager<IdentityUser> SignInManager

<h1>Welcome to the Light Scada Website!</h1>
Auth state: @isLoggedIn()

@code{

    private string isLoggedIn()
    {
        SignInManager.SignInAsync(new IdentityUser("Majkel"), true, "Basic").Wait();
        var state = AuthenticationStateProvider.GetAuthenticationStateAsync().Result;
        var user = state.User;
        user.AddIdentity(new ClaimsIdentity(new List<Claim>() { new Claim("Role", "Admin") }, "Basic"));
        return user.Identity.AuthenticationType;
    }
}